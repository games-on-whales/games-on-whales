<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lutris :: Games On Whales</title>
    <link rel="canonical" href="https://games-on-whales.github.io/gow/lutris.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../_/css/site.css">
<link rel="stylesheet" href="../_/css/vendor/tabs.css">
<link rel="stylesheet" href="../_/css/site-extra.css">
  </head>
  <body class="article">
<header class="header">
    <div class="fancy-stripe"></div>
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://games-on-whales.github.io">Games On Whales</a>
                <div class="navbar-item search hide-for-print">
                    <div id="search-field" class="field">
                        <input id="search-input" type="text" placeholder="Search the docs">
                    </div>
                </div>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link" href="#">Projects</a>
                    <div class="navbar-dropdown">
                        <a class="navbar-item" href="https://games-on-whales.github.io/wolf/stable/">Wolf</a>
                        <a class="navbar-item" href="https://github.com/games-on-whales/inputtino">inputtino</a>
                        <a class="navbar-item" href="https://github.com/games-on-whales/gst-wayland-display">gst-wayland-display</a>
                        <a class="navbar-item" href="https://games-on-whales.github.io/gow/">Games on Whales</a>
                    </div>
                </div>
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link" href="#">Community</a>
                    <div class="navbar-dropdown">
                        <a class="navbar-item" href="https://discord.gg/kRGUDHNHt2">Discord</a>
                        <a class="navbar-item" href="https://github.com/games-on-whales">Github</a>
                        <a class="navbar-item" href="https://opencollective.com/games-on-whales/donate">Donate</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<div class="nav-container" data-component="gow" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">gow</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Home</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">What is GOW?</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="components-overview.html">Components</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="how-to-use.html">How can I use GOW?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="roadmap.html">Roadmap</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Images</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="lutris.html">Lutris</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="requirements.html">Prerequisites</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="monitor.html">Monitor requirements</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="running.html">Running</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="connecting.html">Connecting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Advanced</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="which-platform.html">Which platform?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="adding-an-app.html">Adding a new app</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="kubernetes.html">Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="windows.html">Is Windows supported?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nvidia.html">Nvidia GPU</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="primary-gpu.html">Multiple GPUs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="steam.html">Steam</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="run-gow.html">run-gow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Contributing/Developing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="contributing.html">Contributing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="docker-build.html">Docker build</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">gow</span>
    <span class="version"></span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="index.html">gow</a></div>
    </li>
    <li class="component">
      <div class="title"><a href="../wolf/stable/index.html">wolf</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../wolf/stable/index.html">stable</a>
        </li>
        <li class="version">
          <a href="../wolf/dev-tracy/index.html">dev-tracy</a>
        </li>
        <li class="version">
          <a href="../wolf/dev-nix/index.html">dev-nix</a>
        </li>
        <li class="version">
          <a href="../wolf/dev-fake-uinput/index.html">dev-fake-uinput</a>
        </li>
        <li class="version">
          <a href="../wolf/dev-backend-api/index.html">dev-backend-api</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../wolf/stable/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">gow</a></li>
    <li><a href="index.html">Home</a></li>
    <li>Images</li>
    <li><a href="lutris.html">Lutris</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/games-on-whales/gow/edit/master/docs/modules/ROOT/pages/lutris.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Lutris</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The <code>gameonwhales/lutris</code> (or <code>ghcr.io/games-on-whales/lutris</code>) image can be used to run a variety of applications.<br>
Lutris refers to its self as a "preservation platform", and provides scripts for installing many pieces of software on Linux, from games to productivity software.</p>
</div>
<div class="paragraph">
<p>The software you want to run may already have an entry on the
<a href="https://lutris.net/">Lutris website</a>, in which case, you can either install the software from the Lutris UI directly or extend the image to create a bespoke image.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_internal_layout"><a class="anchor" href="#_internal_layout"></a>Internal Layout</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On first run, the startup scripts for this image will configure Lutris to store game installation files and installation meta-data in the <code>/var/lutris</code> directory.
By mounting a volume at this directory, multiple instances of the image will share videogame installations.
Most applications will save user-specific data in the home directory, which remains exclusively visible to the individual user.</p>
</div>
<div class="paragraph">
<p>Lutris is a desktop application that launches other windows, and as such, it requires a window manager to run; we recommend enabling Sway (set the env variable <code>USE_SWAY=1</code>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_folder_format"><a class="anchor" href="#_folder_format"></a>Folder Format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following documents the file-format for images in GOW in general, as well as a couple of peculiar specific to the Lutris Image.</p>
</div>
<div class="paragraph">
<p>The Lutris image consists of the following files;</p>
</div>
<div class="literalblock">
<div class="content">
<pre>images
 +- lutris
     +- Dockerfile
     +- scripts
     |   +- startup.sh
     |   +- startup-10-create-dirs.sh
     +- configs
         +- lutris-system.yml
         +- lutris-lutris.yml</pre>
</div>
</div>
<div class="paragraph">
<p>At a basic level, all images based on the base image will feature a Dockerfile and <code>startup.sh</code> script.<br>
The Dockerfile will stage the <code>startup.sh</code> script at
<code>/opt/gow/startup.sh</code>, overwriting the version provided by the base-app script.
The Dockerfile will also copy all the assets for the container (usually to
<code>/opt/gow/</code>), and install any additional dependencies.</p>
</div>
<div class="paragraph">
<p>The <code>startup.sh</code> script will launch at the start of every container.<br>
It must first prepare the home directory, which will be empty on first-run, and then launch the application.
The Lutris image also features a <code>/opt/gow/startup.d</code> directory.
Scripts placed in this directory will be sourced by the <code>startup.sh</code>
script prior to launching Lutris.</p>
</div>
<div class="paragraph">
<p><code>startup-10-create-dirs.sh</code> is copied by the Dockerfile to <code>/opt/gow/startup.d</code>.
It configures Lutris to install games in <code>/var/lutris/Games</code> by default, and allow multiple instances of the Lutris container to share installation files.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_the_lutris_image"><a class="anchor" href="#_building_the_lutris_image"></a>Building the Lutris Image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These instructions are applicable to any image based on the GoW base image, and are useful if you want to make changes to the image.
When making changes to images upon which other images are based, it is naturally required to build all dependent images to propergate the changes.</p>
</div>
<div class="sect2">
<h3 id="_step_1_build_the_base_image"><a class="anchor" href="#_step_1_build_the_base_image"></a>Step 1. Build the base image</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker build -t gow/base images/base</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_build_the_base_app_image"><a class="anchor" href="#_step_2_build_the_base_app_image"></a>Step 2. Build the base-app image</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker build -t gow/base-app --build-arg BASE_IMAGE=gow/base images/base-app</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_3_build_the_lutris_image"><a class="anchor" href="#_step_3_build_the_lutris_image"></a>Step 3. Build the lutris image</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker build -t gow/lutris --build-arg BASE_APP_IMAGE=gow/base-app images/lutris</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_4_configure_wolf_to_use_the_container"><a class="anchor" href="#_step_4_configure_wolf_to_use_the_container"></a>Step 4. Configure Wolf to use the container</h3>
<div class="paragraph">
<p>Place the following in <code>/etc/wolf/cfg/config.toml</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-toml hljs" data-lang="toml">[[apps]]
title = "Lutris"
start_virtual_compositor = true

[apps.runner]
type = "docker"
name = "WolfLutris"
image = "gow/lutris"
mounts = ["lutris-games:/var/lutris/:rw"]
env = ["RUN_SWAY=1","GOW_REQUIRED_DEVICES=/dev/input/event* /dev/dri/* /dev/nvidia*"]
devices = []
ports = []
base_create_json = """
{
  "HostConfig": {
    "IpcMode": "host",
    "CapAdd": ["NET_RAW", "MKNOD", "NET_ADMIN", "SYS_ADMIN", "SYS_NICE"],
    "Privileged": false,
    "DeviceCgroupRules": ["c 13:* rmw", "c 244:* rmw"]
  }
}
\
"""</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This configuration creates a docker named-volume called <code>lutris-games</code>
and mounts it at <code>/var/lutris</code>. Since this is where the games will be installed,
this may need a lot of storage space. By default, docker will store volumes in
<code>/var/lib/docker/volumes</code>. In the above example, you can change <code>lutris-games</code> to
any arbitrary path on the host you like, and the game data will be saved there
instead.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extending_the_lutris_image"><a class="anchor" href="#_extending_the_lutris_image"></a>Extending the Lutris Image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lutris supports launching games directly, skipping its UI, by passing the correct command line arguments to the lutris binary.
Lutris uses this feature to add launchers to menus and desktop shortcuts.
We can use it to create a custom container image which uses Lutris' installation scripts, but features a single program.</p>
</div>
<div class="paragraph">
<p>Consider the following structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>images
 +- lutris-app
     +- Dockerfile
     +- scripts
         +- startup-20-configure-lutris.sh</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Dockerfile</code> would copy <code>startup-20-configure-lutris.sh</code> to
<code>/opt/gow/startup.d/20-configure-lutris.sh</code>, which in turn would be picked up by the Lutris image&#8217;s <code>startup.sh</code> script, and would adjust Lutris commandline args to run the application.</p>
</div>
<div class="sect2">
<h3 id="_a_practical_example"><a class="anchor" href="#_a_practical_example"></a>A Practical Example</h3>
<div class="paragraph">
<p>Super Tux is a Linux native game which is distributed via AppImage.
It also happens to have a Lutris install script.
To create a Super Tux image based on the Lutris image, replicate the above structure with the following file contents;</p>
</div>
<div class="sect3">
<h4 id="_dockerfile"><a class="anchor" href="#_dockerfile"></a>Dockerfile</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-dockerfile hljs" data-lang="dockerfile">ARG BASE_APP_IMAGE

FROM ${BASE_APP_IMAGE}

COPY --chmod=777 scripts/startup-20-launch-supertux.sh /opt/gow/startup.d/20-launch-supertux.sh

ARG IMAGE_SOURCE
LABEL org.opencontainers.image.source $IMAGE_SOURCE</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_scriptsstartup_20_launch_supertux_sh"><a class="anchor" href="#_scriptsstartup_20_launch_supertux_sh"></a>scripts/startup-20-launch-supertux.sh</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/bin/bash -e

source /opt/gow/bash-lib/utils.sh

gow_log "[start-launch-supertux] Begin"

if $LUTRIS -lo 2&gt;/dev/null | grep "supertux"
then
    gow_log "[start-launch-supertux] Super Tux is already installed! Launching."
    LUTRIS_ARGS=("lutris:rungame/supertux")
else
    gow_log "[start-launch-supertux] Super Tux is not installed! Installing."
    LUTRIS_ARGS=("lutris:supertux")
fi

gow_log "[start-launch-supertux] End"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_build_the_image"><a class="anchor" href="#_build_the_image"></a>Build the image</h4>
<div class="paragraph">
<p>Build the image based on the Lutris image with the following command;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker build -t lutris-supertux --build-arg BASE_APP_IMAGE=gow/lutris images/lutris-supertux</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_config_toml"><a class="anchor" href="#_config_toml"></a>config.toml</h4>
<div class="paragraph">
<p>Finally, add the appropreate entry to <code>/etc/wolf/cfg/config.toml</code> to add it to wolf.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-toml hljs" data-lang="toml">[[apps]]
title = "Super Tux"
start_virtual_compositor = true

[apps.runner]
type = "docker"
name = "WolfSupertux"
image = "lutris-supertux"
mounts = ["lutris-games:/var/lutris/:rw"]
env = ["APPIMAGE_EXTRACT_AND_RUN=1","RUN_SWAY=1","GOW_REQUIRED_DEVICES=/dev/input/event* /dev/dri/* /dev/nvidia*"]
devices = []
ports = []
base_create_json = """
{
  "HostConfig": {
    "IpcMode": "host",
    "CapAdd": ["NET_RAW", "MKNOD", "NET_ADMIN", "SYS_ADMIN", "SYS_NICE"],
    "Privileged": false,
    "DeviceCgroupRules": ["c 13:* rmw", "c 244:* rmw"]
  }
}
\
"""</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will work.
But when you run the image in wolf, you will find the game open by default in windowed mode.
Also, because Super Tux runs from an Appimage in docker, it requires the <code>APPIMAGE_EXTRACT_AND_RUN</code> environment variable to be set.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_use_a_custom_install_script"><a class="anchor" href="#_use_a_custom_install_script"></a>Use a custom install script.</h3>
<div class="paragraph">
<p>These things can be configured in Lutris, and we can achieve the changes we desire by providing a customised version of a Lutris installation script.</p>
</div>
<div class="paragraph">
<p>All we need to do is add the customised script to the scripts directory, have the Dockerfile copy it into the image, and change the startup script to install from the provided script.</p>
</div>
<div class="sect3">
<h4 id="_structure"><a class="anchor" href="#_structure"></a>Structure</h4>
<div class="literalblock">
<div class="content">
<pre>images
 +- lutris-app
     +- Dockerfile
     +- scripts
         +- startup-20-configure-lutris.sh
         +- supertux-appimage.yaml</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supertux_appimage_yaml"><a class="anchor" href="#_supertux_appimage_yaml"></a>supertux-appimage.yaml</h4>
<div class="paragraph">
<p>This customised installation script sets <code>APPIMAGE_EXTRACT_AND_RUN</code> as an environment variable, and passes <code>--fullscreen</code> as a commandline argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">description: ''
game_slug: supertux
gogslug: ''
humblestoreid: ''
installer_slug: supertux-appimage
name: SuperTux
notes: 'Arch-based systems might need to install the following dependencies: "physfs
  glew1.10 libcurl-gnutls"'
runner: linux
script:
  files:
  - appimg: https://github.com/SuperTux/supertux/releases/download/v0.6.3/SuperTux-v0.6.3.glibc2.29-x86_64.AppImage
  game:
    exe: SuperTux-v0.6.3.glibc2.29-x86_64.AppImage
    args: --fullscreen
  installer:
  - chmodx: appimg
  - move:
      dst: $GAMEDIR
      src: appimg
  system:
    env:
      APPIMAGELAUNCHER_DISABLE: true
      APPIMAGE_EXTRACT_AND_RUN: true
slug: supertux-appimage
steamid: null
version: AppImage
year: 2003</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_startup_20_configure_lutris_sh"><a class="anchor" href="#_startup_20_configure_lutris_sh"></a>startup-20-configure-lutris.sh</h4>
<div class="paragraph">
<p>The startup script is mostly the same as the previous version, except the installation command now points to the custom install script.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/bin/bash -e

source /opt/gow/bash-lib/utils.sh

gow_log "[start-launch-supertux] Begin"

if $LUTRIS -lo 2&gt;/dev/null | grep "supertux"
then
    gow_log "[start-launch-supertux] Super Tux is already installed! Launching."
    LUTRIS_ARGS=("lutris:rungame/supertux")
else
    gow_log "[start-launch-supertux] Super Tux is not installed! Installing."
    LUTRIS_ARGS=("-i" "/opt/gow/supertux-appimage.yaml")
fi

gow_log "[start-launch-supertux] End"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dockerfile_2"><a class="anchor" href="#_dockerfile_2"></a>Dockerfile</h4>
<div class="paragraph">
<p>The Dockerfile needs to be modified to copy the installation script to the right place.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-dockerfile hljs" data-lang="dockerfile">ARG BASE_APP_IMAGE

# hadolint ignore=DL3006
FROM ${BASE_APP_IMAGE}

COPY --chmod=777 scripts/startup-20-launch-supertux.sh /opt/gow/startup.d/20-launch-supertux.sh
COPY scripts/supertux-appimage.yaml /opt/gow/supertux-appimage.yaml

ARG IMAGE_SOURCE
LABEL org.opencontainers.image.source $IMAGE_SOURCE</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_build_the_image_2"><a class="anchor" href="#_build_the_image_2"></a>Build the image</h4>
<div class="paragraph">
<p>The build command is exactly the same as it was in the previous example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker build -t lutris-supertux --build-arg BASE_APP_IMAGE=gow/lutris images/lutris-supertux</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_config_toml_2"><a class="anchor" href="#_config_toml_2"></a>config.toml</h4>
<div class="paragraph">
<p>Finally, the appropriate entry in <code>/etc/wolf/cfg/config.toml</code> can be changed to remove the now superfluous environment variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-toml hljs" data-lang="toml">[[apps]]
title = "Super Tux"
start_virtual_compositor = true

[apps.runner]
type = "docker"
name = "WolfSupertux"
image = "lutris-supertux"
mounts = ["lutris-games:/var/lutris/:rw"]
env = ["RUN_SWAY=1","GOW_REQUIRED_DEVICES=/dev/input/event* /dev/dri/* /dev/nvidia*"]
devices = []
ports = []
base_create_json = """
{
  "HostConfig": {
    "IpcMode": "host",
    "CapAdd": ["NET_RAW", "MKNOD", "NET_ADMIN", "SYS_ADMIN", "SYS_NICE"],
    "Privileged": false,
    "DeviceCgroupRules": ["c 13:* rmw"]
  }
}
\
"""</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_config_toml_3"><a class="anchor" href="#_config_toml_3"></a>config.toml</h4>
<div class="paragraph">
<p>Because the installation script is now correctly setting the environment, we no
longer have to set <code>APPIMAGE_EXTRACT_AND_RUN</code> in <code>config.toml</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-toml hljs" data-lang="toml">[[apps]]
title = "Super Tux"
start_virtual_compositor = true

[apps.runner]
type = "docker"
name = "WolfSupertux"
image = "lutris-supertux"
mounts = ["lutris-games:/var/lutris/:rw"]
env = ["RUN_SWAY=1","GOW_REQUIRED_DEVICES=/dev/input/event* /dev/dri/* /dev/nvidia*"]
devices = []
ports = []
base_create_json = """
{
  "HostConfig": {
    "IpcMode": "host",
    "CapAdd": ["NET_RAW", "MKNOD", "NET_ADMIN", "SYS_ADMIN", "SYS_NICE"],
    "Privileged": false,
    "DeviceCgroupRules": ["c 13:* rmw", "c 244:* rmw"]
  }
}
\
"""</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, when you select the "Super Tux" entry in Moonlight, Super Tux will
install from the yaml script we&#8217;ve defined, and the game will run in
fullscreen mode by default.</p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <div>
        <a href="https://opencollective.com/games-on-whales/donate" target="_blank">
            <img src="https://opencollective.com/webpack/donate/button@2x.png?color=white" width=250/>
        </a>
    </div>
    <p>Copyright &#169; ABeltramo and <a href="https://github.com/games-on-whales">GOW</a> contributors.</p>
    <p>Except where otherwise noted, docs are licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative
        Commons Attribution-ShareAlike 4.0 International</a> (CC BY-SA 4.0).</p>
</footer><script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script async src="../_/js/vendor/tabs.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="100" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
  </body>
</html>
